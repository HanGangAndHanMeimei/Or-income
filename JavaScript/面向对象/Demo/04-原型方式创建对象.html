<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>原型方式创建对象</title>
</head>
<body>
<script>

    //01 原型方式创建对象
    //001 先提供一个空的构造函数
    function Person() {}

    //002 设置原型属性
    // 设置对象的原型属性(本质上也是对象),设置属性
    Person.prototype.name = '默认的姓名';
    Person.prototype.age = '默认的年龄';
    Person.prototype.books = ['动物世界','法制世界'];

    //003 设置原型方法
    Person.prototype.showName = function () {
        return '姓名:' + this.name;
    }

    Person.prototype.showAge = function () {
        return '年龄' + this.age;
    }

    //004 创建对象
    var person1 = new Person();
    var person2 = new Person();

    //005 打印对象的属性
    console.log(person1.name,person1.age);
    console.log(person2.name,person2.age);

    //006 调用对象的方法
    console.log(person1.showName());
    console.log(person2.showName());

    //007 修改对象的属性
    person1.name = '张三';
    console.log(person1.name);      //张三
    console.log(person2.name);      //默认的姓名
    person2.name = '张老汉';
    console.log(person1.name);      //张三
    console.log(person2.name);      //张老汉

    console.log('________________________');
    console.log(person1.books);
    console.log(person2.books);
    //修改
    person1.books.push('科技世界');
    console.log(person1.books);     //["动物世界", "法制世界", "科技世界"]
    console.log(person2.books);     //["动物世界", "法制世界", "科技世界"]

    //注意 :修改了原型属性的引用类型,会对其他对象造成影响

    //007 检查原型属性和原型方法的共享问题
    console.log(person1.showName == person2.showName);  //true

    //结论:使用原型方式创建对象,protoType对象上面设置的所有属性和方法都是共享的,性能更好
    //问题:① 引用类型共享会对其他对象造成影响 ② 所有对象的初始值都一样 ③ 代码分散,封装性不好

</script>
</body>
</html>